{"ast":null,"code":"import axios from 'axios';\n\n// GMI Cloud API configuration\nconst GMI_API_URL = process.env.REACT_APP_GMI_API_URL || 'https://gmi.cloud';\nconst GMI_API_KEY = process.env.REACT_APP_GMI_API_KEY;\n\n// Try different possible GMI Cloud base URLs\nconst GMI_BASE_URLS = ['https://gmi.cloud', 'https://api.gmi.cloud', 'https://api.gmi.com', 'https://gmi.com'];\n\n// Debug environment variables\nconsole.log('Environment variables loaded:');\nconsole.log('GMI_API_URL:', GMI_API_URL);\nconsole.log('GMI_API_KEY exists:', !!GMI_API_KEY);\n\n// Speaker profiles with their characteristics and knowledge\nconst SPEAKER_PROFILES = {\n  'Steve Jobs': {\n    personality: 'Visionary, perfectionist, focused on design and user experience',\n    background: 'Co-founder of Apple, Pixar, and NeXT. Known for revolutionizing personal computing, mobile phones, and digital music.',\n    speaking_style: 'Direct, passionate, uses metaphors and stories. Emphasizes simplicity and elegance.',\n    expertise: 'Technology innovation, design philosophy, business strategy, creative leadership',\n    quotes: 'Stay hungry, stay foolish. Design is not just what it looks like and feels like. Design is how it works.',\n    knowledge_sources: 'Apple keynotes, interviews, Stanford commencement speech, biographies'\n  },\n  'Elon Musk': {\n    personality: 'Ambitious, risk-taking, focused on solving big problems',\n    background: 'CEO of Tesla and SpaceX, founder of Neuralink and The Boring Company. Known for electric vehicles, space exploration, and AI.',\n    speaking_style: 'Technical, direct, uses data and engineering principles. Often discusses future possibilities.',\n    expertise: 'Electric vehicles, space exploration, artificial intelligence, renewable energy, neural interfaces',\n    quotes: 'When something is important enough, you do it even if the odds are not in your favor. The future of humanity is going to be on multiple planets.',\n    knowledge_sources: 'Tesla presentations, SpaceX launches, interviews, Twitter posts, TED talks'\n  },\n  'Bill Gates': {\n    personality: 'Analytical, philanthropic, focused on global problems',\n    background: 'Co-founder of Microsoft, philanthropist through Bill & Melinda Gates Foundation. Known for personal computing and global health.',\n    speaking_style: 'Thoughtful, data-driven, uses statistics and research. Emphasizes global impact and innovation.',\n    expertise: 'Software development, global health, education, climate change, philanthropy',\n    quotes: 'Success is a lousy teacher. It seduces smart people into thinking they can\\'t lose. We always overestimate the change that will occur in the next two years and underestimate the change that will occur in the next ten.',\n    knowledge_sources: 'Microsoft presentations, Gates Notes, interviews, TED talks, annual letters'\n  },\n  'Warren Buffett': {\n    personality: 'Wise, patient, value-oriented, down-to-earth',\n    background: 'CEO of Berkshire Hathaway, known as the \"Oracle of Omaha\". One of the most successful investors ever.',\n    speaking_style: 'Simple, clear, uses analogies and stories. Emphasizes long-term thinking and value.',\n    expertise: 'Value investing, business analysis, economics, philanthropy, life philosophy',\n    quotes: 'Be fearful when others are greedy and greedy when others are fearful. Price is what you pay. Value is what you get.',\n    knowledge_sources: 'Berkshire annual meetings, interviews, shareholder letters, documentaries'\n  },\n  'Oprah Winfrey': {\n    personality: 'Empathetic, inspiring, focused on personal growth and human connection',\n    background: 'Media mogul, talk show host, philanthropist. Known for The Oprah Winfrey Show and OWN network.',\n    speaking_style: 'Warm, personal, uses stories and emotional connection. Emphasizes authenticity and purpose.',\n    expertise: 'Media, personal development, philanthropy, leadership, human psychology',\n    quotes: 'The biggest adventure you can take is to live the life of your dreams. What I know for sure is that speaking your truth is the most powerful tool we all have.',\n    knowledge_sources: 'The Oprah Winfrey Show, interviews, speeches, books, Super Soul Sunday'\n  },\n  'Albert Einstein': {\n    personality: 'Curious, revolutionary, focused on fundamental understanding',\n    background: 'Theoretical physicist, developed the theory of relativity. One of the most influential scientists ever.',\n    speaking_style: 'Philosophical, uses thought experiments and analogies. Emphasizes imagination and questioning.',\n    expertise: 'Physics, mathematics, philosophy of science, education, peace advocacy',\n    quotes: 'Imagination is more important than knowledge. The important thing is not to stop questioning. Curiosity has its own reason for existence.',\n    knowledge_sources: 'Scientific papers, interviews, letters, biographies, philosophical writings'\n  }\n};\n\n// Initialize axios instance for GMI Cloud\nconst gmiApi = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${GMI_API_KEY}`\n  },\n  timeout: 30000 // 30 second timeout\n});\n\n// Alternative authentication headers for GMI Cloud\nconst gmiApiAlt = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': GMI_API_KEY\n  },\n  timeout: 30000\n});\nconst gmiApiAlt2 = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\n// Log the API configuration\nconsole.log('GMI API Configuration:', {\n  baseURL: GMI_API_URL,\n  hasApiKey: !!GMI_API_KEY,\n  apiKeyPrefix: GMI_API_KEY ? GMI_API_KEY.substring(0, 20) + '...' : 'None'\n});\n\n// Log environment variables directly\nconsole.log('Environment variables check:');\nconsole.log('process.env.REACT_APP_GMI_API_URL:', process.env.REACT_APP_GMI_API_URL);\nconsole.log('process.env.REACT_APP_GMI_API_KEY exists:', !!process.env.REACT_APP_GMI_API_KEY);\n\n// Generate speaker-specific prompt\nconst generateSpeakerPrompt = (speaker, topic, conversationHistory = []) => {\n  const profile = SPEAKER_PROFILES[speaker];\n  if (!profile) {\n    throw new Error(`Speaker profile not found for: ${speaker}`);\n  }\n  const historyContext = conversationHistory.length > 0 ? `\\n\\nPrevious conversation context:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}` : '';\n  return `You are ${speaker}, having a natural conversation about \"${topic}\".\n\n${speaker}'s characteristics:\n- Personality: ${profile.personality}\n- Background: ${profile.background}\n- Speaking style: ${profile.speaking_style}\n- Expertise: ${profile.expertise}\n- Famous quotes: ${profile.quotes}\n\nInstructions:\n1. Respond as ${speaker} would naturally speak about this topic\n2. Keep responses concise (2-5 sentences, average 2-3 sentences)\n3. Reference your background, expertise, and speaking style\n4. Respond to what the other speaker just said, creating a natural flow\n5. Stay focused on the topic: ${topic}\n6. Use your characteristic speaking style and personality\n7. Don't break character or mention that you're an AI\n\n${historyContext}\n\nRespond as ${speaker} would naturally continue this conversation:`;\n};\n\n// Generate user question prompt\nconst generateUserQuestionPrompt = (speaker1, speaker2, topic, userQuestion, conversationHistory = []) => {\n  const profile1 = SPEAKER_PROFILES[speaker1];\n  const profile2 = SPEAKER_PROFILES[speaker2];\n  const historyContext = conversationHistory.length > 0 ? `\\n\\nPrevious conversation:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}` : '';\n  return `You are ${speaker1} and ${speaker2} having a discussion about \"${topic}\".\n\n${speaker1}'s characteristics:\n- Personality: ${profile1.personality}\n- Background: ${profile1.background}\n- Speaking style: ${profile1.speaking_style}\n\n${speaker2}'s characteristics:\n- Personality: ${profile2.personality}\n- Background: ${profile2.background}\n- Speaking style: ${profile2.speaking_style}\n\nA member of the audience has asked: \"${userQuestion}\"\n\nInstructions:\n1. Both speakers should respond to this audience question\n2. Keep responses concise (2-5 sentences each)\n3. Respond in character as each speaker would naturally\n4. Reference their background and expertise\n5. Stay focused on the topic and the specific question\n6. Use their characteristic speaking styles\n\n${historyContext}\n\nProvide responses from both ${speaker1} and ${speaker2} to the audience question:`;\n};\n\n// Call GMI Cloud API for conversation generation\nexport const generateConversation = async (speaker1, speaker2, topic, conversationHistory = []) => {\n  try {\n    console.log('Generating conversation for:', speaker1, 'about topic:', topic);\n    const prompt = generateSpeakerPrompt(speaker1, topic, conversationHistory);\n    console.log('Making API request to GMI Cloud...');\n    console.log('Using URL:', gmiApi.defaults.baseURL);\n\n    // Try different request formats for GMI Cloud\n    const requestPayloads = [{\n      model: 'moonshotai: Kimi-K2-Instruct',\n      messages: [{\n        role: 'system',\n        content: 'You are an AI assistant that helps simulate conversations between influential leaders. Respond naturally and in character.'\n      }, {\n        role: 'user',\n        content: prompt\n      }],\n      max_tokens: 150,\n      temperature: 0.8,\n      top_p: 0.9\n    }, {\n      model: 'moonshotai: Kimi-K2-Instruct',\n      prompt: prompt,\n      max_tokens: 150,\n      temperature: 0.8\n    }, {\n      model: 'moonshotai: Kimi-K2-Instruct',\n      input: prompt,\n      max_tokens: 150,\n      temperature: 0.8\n    }];\n\n    // Try different API instances\n    const apiInstances = [{\n      name: 'Default',\n      instance: gmiApi\n    }, {\n      name: 'X-API-Key',\n      instance: gmiApiAlt\n    }, {\n      name: 'Direct Auth',\n      instance: gmiApiAlt2\n    }];\n    for (const apiInstance of apiInstances) {\n      console.log(`Trying API instance: ${apiInstance.name}`);\n      for (let i = 0; i < requestPayloads.length; i++) {\n        try {\n          var _response$data$choice, _response$data$choice2, _response$data$choice3, _response$data$choice4, _response$data$text, _response$data$respon;\n          console.log(`Trying request format ${i + 1} with ${apiInstance.name}:`, requestPayloads[i]);\n          console.log('Making request to:', apiInstance.instance.defaults.baseURL + '/v1/chat/completions');\n          const response = await apiInstance.instance.post('/v1/chat/completions', requestPayloads[i]);\n          console.log('API response received:', response.data);\n          const content = ((_response$data$choice = response.data.choices) === null || _response$data$choice === void 0 ? void 0 : (_response$data$choice2 = _response$data$choice[0]) === null || _response$data$choice2 === void 0 ? void 0 : (_response$data$choice3 = _response$data$choice2.message) === null || _response$data$choice3 === void 0 ? void 0 : (_response$data$choice4 = _response$data$choice3.content) === null || _response$data$choice4 === void 0 ? void 0 : _response$data$choice4.trim()) || ((_response$data$text = response.data.text) === null || _response$data$text === void 0 ? void 0 : _response$data$text.trim()) || ((_response$data$respon = response.data.response) === null || _response$data$respon === void 0 ? void 0 : _response$data$respon.trim()) || 'I understand your point.';\n          console.log('Extracted content:', content);\n          return content;\n        } catch (formatError) {\n          var _formatError$response, _formatError$response2, _formatError$response3, _formatError$config, _formatError$config2, _formatError$config3;\n          console.error(`Request format ${i + 1} with ${apiInstance.name} failed:`, formatError);\n          console.error('Error details:', {\n            message: formatError.message,\n            status: (_formatError$response = formatError.response) === null || _formatError$response === void 0 ? void 0 : _formatError$response.status,\n            statusText: (_formatError$response2 = formatError.response) === null || _formatError$response2 === void 0 ? void 0 : _formatError$response2.statusText,\n            data: (_formatError$response3 = formatError.response) === null || _formatError$response3 === void 0 ? void 0 : _formatError$response3.data,\n            config: {\n              url: (_formatError$config = formatError.config) === null || _formatError$config === void 0 ? void 0 : _formatError$config.url,\n              method: (_formatError$config2 = formatError.config) === null || _formatError$config2 === void 0 ? void 0 : _formatError$config2.method,\n              headers: (_formatError$config3 = formatError.config) === null || _formatError$config3 === void 0 ? void 0 : _formatError$config3.headers\n            }\n          });\n\n          // If this is the last format and last API instance, throw the error\n          if (i === requestPayloads.length - 1 && apiInstance === apiInstances[apiInstances.length - 1]) {\n            throw formatError;\n          }\n          continue;\n        }\n      }\n    }\n  } catch (error) {\n    var _error$response;\n    console.error('Error generating conversation:', error);\n    console.error('Error details:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw new Error(`Failed to generate conversation response: ${error.message}`);\n  }\n};\n\n// Generate responses to user questions\nexport const generateUserQuestionResponse = async (speaker1, speaker2, topic, userQuestion, conversationHistory = []) => {\n  try {\n    var _lines$find, _lines$find2;\n    const prompt = generateUserQuestionPrompt(speaker1, speaker2, topic, userQuestion, conversationHistory);\n    const response = await gmiApi.post('/v1/chat/completions', {\n      model: 'moonshotai: Kimi-K2-Instruct',\n      messages: [{\n        role: 'system',\n        content: 'You are an AI assistant that helps simulate conversations between influential leaders. Provide responses from both speakers to audience questions.'\n      }, {\n        role: 'user',\n        content: prompt\n      }],\n      max_tokens: 300,\n      temperature: 0.8,\n      top_p: 0.9\n    });\n    const fullResponse = response.data.choices[0].message.content.trim();\n\n    // Parse the response to separate the two speakers\n    const lines = fullResponse.split('\\n');\n    const speaker1Response = (_lines$find = lines.find(line => line.includes(speaker1 + ':'))) === null || _lines$find === void 0 ? void 0 : _lines$find.replace(speaker1 + ':', '').trim();\n    const speaker2Response = (_lines$find2 = lines.find(line => line.includes(speaker2 + ':'))) === null || _lines$find2 === void 0 ? void 0 : _lines$find2.replace(speaker2 + ':', '').trim();\n    return {\n      speaker1: speaker1Response || 'I appreciate that question.',\n      speaker2: speaker2Response || 'That\\'s an interesting point.'\n    };\n  } catch (error) {\n    console.error('Error generating user question response:', error);\n    throw new Error('Failed to generate response to user question');\n  }\n};\n\n// Get available speakers\nexport const getAvailableSpeakers = () => {\n  return Object.keys(SPEAKER_PROFILES);\n};\n\n// Validate GMI API configuration\nexport const validateGMIConfig = () => {\n  if (!GMI_API_KEY) {\n    throw new Error('GMI API key is not configured. Please set REACT_APP_GMI_API_KEY environment variable.');\n  }\n  console.log('GMI API Key configured:', GMI_API_KEY ? 'Yes' : 'No');\n  console.log('GMI API URL:', GMI_API_URL);\n  return true;\n};\n\n// Test basic connectivity to GMI Cloud\nexport const testGMIConnectivity = async () => {\n  try {\n    console.log('Testing basic connectivity to GMI Cloud...');\n    for (const baseUrl of GMI_BASE_URLS) {\n      try {\n        console.log(`Testing connectivity to: ${baseUrl}`);\n        const response = await axios.get(baseUrl, {\n          timeout: 5000\n        });\n        console.log(`Successfully connected to ${baseUrl}:`, response.status);\n        return true;\n      } catch (error) {\n        console.log(`Failed to connect to ${baseUrl}:`, error.message);\n        continue;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('Connectivity test failed:', error);\n    return false;\n  }\n};\n\n// Test GMI API connection\nexport const testGMIConnection = async () => {\n  try {\n    console.log('Testing GMI API connection...');\n\n    // Try different possible endpoints for GMI Cloud\n    const endpoints = ['/v1/chat/completions', '/chat/completions', '/api/v1/chat/completions', '/completions', '/api/chat/completions', '/v1/completions', '/api/generate', '/generate', '/v1/generate', '/chat', '/api/chat'];\n\n    // Try different base URLs and endpoints\n    for (const baseUrl of GMI_BASE_URLS) {\n      console.log(`Trying base URL: ${baseUrl}`);\n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying endpoint: ${baseUrl}${endpoint}`);\n\n          // Try different authentication methods for this base URL\n          const authMethods = [{\n            name: 'Bearer Token',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${GMI_API_KEY}`\n            }\n          }, {\n            name: 'X-API-Key',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-API-Key': GMI_API_KEY\n            }\n          }, {\n            name: 'Direct Authorization',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': GMI_API_KEY\n            }\n          }];\n          for (const authMethod of authMethods) {\n            try {\n              console.log(`Trying ${authMethod.name} authentication...`);\n              const tempApi = axios.create({\n                baseURL: baseUrl,\n                headers: authMethod.headers\n              });\n              const response = await tempApi.post(endpoint, {\n                model: 'moonshotai: Kimi-K2-Instruct',\n                messages: [{\n                  role: 'user',\n                  content: 'Hello, this is a test message.'\n                }],\n                max_tokens: 10\n              });\n              console.log(`GMI API test successful with ${baseUrl}${endpoint} using ${authMethod.name}:`, response.data);\n              return true;\n            } catch (authError) {\n              console.log(`${authMethod.name} authentication failed:`, authError.message);\n              continue;\n            }\n          }\n        } catch (endpointError) {\n          console.log(`Endpoint ${baseUrl}${endpoint} failed:`, endpointError.message);\n          continue;\n        }\n      }\n    }\n    console.error('All GMI API endpoints failed');\n    return false;\n  } catch (error) {\n    var _error$response2;\n    console.error('GMI API test failed:', error);\n    console.error('Error details:', ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    return false;\n  }\n};","map":{"version":3,"names":["axios","GMI_API_URL","process","env","REACT_APP_GMI_API_URL","GMI_API_KEY","REACT_APP_GMI_API_KEY","GMI_BASE_URLS","console","log","SPEAKER_PROFILES","personality","background","speaking_style","expertise","quotes","knowledge_sources","gmiApi","create","baseURL","headers","timeout","gmiApiAlt","gmiApiAlt2","hasApiKey","apiKeyPrefix","substring","generateSpeakerPrompt","speaker","topic","conversationHistory","profile","Error","historyContext","length","map","msg","content","join","generateUserQuestionPrompt","speaker1","speaker2","userQuestion","profile1","profile2","generateConversation","prompt","defaults","requestPayloads","model","messages","role","max_tokens","temperature","top_p","input","apiInstances","name","instance","apiInstance","i","_response$data$choice","_response$data$choice2","_response$data$choice3","_response$data$choice4","_response$data$text","_response$data$respon","response","post","data","choices","message","trim","text","formatError","_formatError$response","_formatError$response2","_formatError$response3","_formatError$config","_formatError$config2","_formatError$config3","error","status","statusText","config","url","method","_error$response","generateUserQuestionResponse","_lines$find","_lines$find2","fullResponse","lines","split","speaker1Response","find","line","includes","replace","speaker2Response","getAvailableSpeakers","Object","keys","validateGMIConfig","testGMIConnectivity","baseUrl","get","testGMIConnection","endpoints","endpoint","authMethods","authMethod","tempApi","authError","endpointError","_error$response2"],"sources":["/Users/aleksander/Documents/Development/GMIxc/src/services/gmiService.js"],"sourcesContent":["import axios from 'axios';\n\n// GMI Cloud API configuration\nconst GMI_API_URL = process.env.REACT_APP_GMI_API_URL || 'https://gmi.cloud';\nconst GMI_API_KEY = process.env.REACT_APP_GMI_API_KEY;\n\n// Try different possible GMI Cloud base URLs\nconst GMI_BASE_URLS = [\n  'https://gmi.cloud',\n  'https://api.gmi.cloud',\n  'https://api.gmi.com',\n  'https://gmi.com'\n];\n\n// Debug environment variables\nconsole.log('Environment variables loaded:');\nconsole.log('GMI_API_URL:', GMI_API_URL);\nconsole.log('GMI_API_KEY exists:', !!GMI_API_KEY);\n\n// Speaker profiles with their characteristics and knowledge\nconst SPEAKER_PROFILES = {\n  'Steve Jobs': {\n    personality: 'Visionary, perfectionist, focused on design and user experience',\n    background: 'Co-founder of Apple, Pixar, and NeXT. Known for revolutionizing personal computing, mobile phones, and digital music.',\n    speaking_style: 'Direct, passionate, uses metaphors and stories. Emphasizes simplicity and elegance.',\n    expertise: 'Technology innovation, design philosophy, business strategy, creative leadership',\n    quotes: 'Stay hungry, stay foolish. Design is not just what it looks like and feels like. Design is how it works.',\n    knowledge_sources: 'Apple keynotes, interviews, Stanford commencement speech, biographies'\n  },\n  'Elon Musk': {\n    personality: 'Ambitious, risk-taking, focused on solving big problems',\n    background: 'CEO of Tesla and SpaceX, founder of Neuralink and The Boring Company. Known for electric vehicles, space exploration, and AI.',\n    speaking_style: 'Technical, direct, uses data and engineering principles. Often discusses future possibilities.',\n    expertise: 'Electric vehicles, space exploration, artificial intelligence, renewable energy, neural interfaces',\n    quotes: 'When something is important enough, you do it even if the odds are not in your favor. The future of humanity is going to be on multiple planets.',\n    knowledge_sources: 'Tesla presentations, SpaceX launches, interviews, Twitter posts, TED talks'\n  },\n  'Bill Gates': {\n    personality: 'Analytical, philanthropic, focused on global problems',\n    background: 'Co-founder of Microsoft, philanthropist through Bill & Melinda Gates Foundation. Known for personal computing and global health.',\n    speaking_style: 'Thoughtful, data-driven, uses statistics and research. Emphasizes global impact and innovation.',\n    expertise: 'Software development, global health, education, climate change, philanthropy',\n    quotes: 'Success is a lousy teacher. It seduces smart people into thinking they can\\'t lose. We always overestimate the change that will occur in the next two years and underestimate the change that will occur in the next ten.',\n    knowledge_sources: 'Microsoft presentations, Gates Notes, interviews, TED talks, annual letters'\n  },\n  'Warren Buffett': {\n    personality: 'Wise, patient, value-oriented, down-to-earth',\n    background: 'CEO of Berkshire Hathaway, known as the \"Oracle of Omaha\". One of the most successful investors ever.',\n    speaking_style: 'Simple, clear, uses analogies and stories. Emphasizes long-term thinking and value.',\n    expertise: 'Value investing, business analysis, economics, philanthropy, life philosophy',\n    quotes: 'Be fearful when others are greedy and greedy when others are fearful. Price is what you pay. Value is what you get.',\n    knowledge_sources: 'Berkshire annual meetings, interviews, shareholder letters, documentaries'\n  },\n  'Oprah Winfrey': {\n    personality: 'Empathetic, inspiring, focused on personal growth and human connection',\n    background: 'Media mogul, talk show host, philanthropist. Known for The Oprah Winfrey Show and OWN network.',\n    speaking_style: 'Warm, personal, uses stories and emotional connection. Emphasizes authenticity and purpose.',\n    expertise: 'Media, personal development, philanthropy, leadership, human psychology',\n    quotes: 'The biggest adventure you can take is to live the life of your dreams. What I know for sure is that speaking your truth is the most powerful tool we all have.',\n    knowledge_sources: 'The Oprah Winfrey Show, interviews, speeches, books, Super Soul Sunday'\n  },\n  'Albert Einstein': {\n    personality: 'Curious, revolutionary, focused on fundamental understanding',\n    background: 'Theoretical physicist, developed the theory of relativity. One of the most influential scientists ever.',\n    speaking_style: 'Philosophical, uses thought experiments and analogies. Emphasizes imagination and questioning.',\n    expertise: 'Physics, mathematics, philosophy of science, education, peace advocacy',\n    quotes: 'Imagination is more important than knowledge. The important thing is not to stop questioning. Curiosity has its own reason for existence.',\n    knowledge_sources: 'Scientific papers, interviews, letters, biographies, philosophical writings'\n  }\n};\n\n// Initialize axios instance for GMI Cloud\nconst gmiApi = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${GMI_API_KEY}`\n  },\n  timeout: 30000 // 30 second timeout\n});\n\n// Alternative authentication headers for GMI Cloud\nconst gmiApiAlt = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\nconst gmiApiAlt2 = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\n// Log the API configuration\nconsole.log('GMI API Configuration:', {\n  baseURL: GMI_API_URL,\n  hasApiKey: !!GMI_API_KEY,\n  apiKeyPrefix: GMI_API_KEY ? GMI_API_KEY.substring(0, 20) + '...' : 'None'\n});\n\n// Log environment variables directly\nconsole.log('Environment variables check:');\nconsole.log('process.env.REACT_APP_GMI_API_URL:', process.env.REACT_APP_GMI_API_URL);\nconsole.log('process.env.REACT_APP_GMI_API_KEY exists:', !!process.env.REACT_APP_GMI_API_KEY);\n\n// Generate speaker-specific prompt\nconst generateSpeakerPrompt = (speaker, topic, conversationHistory = []) => {\n  const profile = SPEAKER_PROFILES[speaker];\n  if (!profile) {\n    throw new Error(`Speaker profile not found for: ${speaker}`);\n  }\n\n  const historyContext = conversationHistory.length > 0 \n    ? `\\n\\nPrevious conversation context:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}`\n    : '';\n\n  return `You are ${speaker}, having a natural conversation about \"${topic}\".\n\n${speaker}'s characteristics:\n- Personality: ${profile.personality}\n- Background: ${profile.background}\n- Speaking style: ${profile.speaking_style}\n- Expertise: ${profile.expertise}\n- Famous quotes: ${profile.quotes}\n\nInstructions:\n1. Respond as ${speaker} would naturally speak about this topic\n2. Keep responses concise (2-5 sentences, average 2-3 sentences)\n3. Reference your background, expertise, and speaking style\n4. Respond to what the other speaker just said, creating a natural flow\n5. Stay focused on the topic: ${topic}\n6. Use your characteristic speaking style and personality\n7. Don't break character or mention that you're an AI\n\n${historyContext}\n\nRespond as ${speaker} would naturally continue this conversation:`;\n};\n\n// Generate user question prompt\nconst generateUserQuestionPrompt = (speaker1, speaker2, topic, userQuestion, conversationHistory = []) => {\n  const profile1 = SPEAKER_PROFILES[speaker1];\n  const profile2 = SPEAKER_PROFILES[speaker2];\n\n  const historyContext = conversationHistory.length > 0 \n    ? `\\n\\nPrevious conversation:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}`\n    : '';\n\n  return `You are ${speaker1} and ${speaker2} having a discussion about \"${topic}\".\n\n${speaker1}'s characteristics:\n- Personality: ${profile1.personality}\n- Background: ${profile1.background}\n- Speaking style: ${profile1.speaking_style}\n\n${speaker2}'s characteristics:\n- Personality: ${profile2.personality}\n- Background: ${profile2.background}\n- Speaking style: ${profile2.speaking_style}\n\nA member of the audience has asked: \"${userQuestion}\"\n\nInstructions:\n1. Both speakers should respond to this audience question\n2. Keep responses concise (2-5 sentences each)\n3. Respond in character as each speaker would naturally\n4. Reference their background and expertise\n5. Stay focused on the topic and the specific question\n6. Use their characteristic speaking styles\n\n${historyContext}\n\nProvide responses from both ${speaker1} and ${speaker2} to the audience question:`;\n};\n\n// Call GMI Cloud API for conversation generation\nexport const generateConversation = async (speaker1, speaker2, topic, conversationHistory = []) => {\n  try {\n    console.log('Generating conversation for:', speaker1, 'about topic:', topic);\n    const prompt = generateSpeakerPrompt(speaker1, topic, conversationHistory);\n    \n    console.log('Making API request to GMI Cloud...');\n    console.log('Using URL:', gmiApi.defaults.baseURL);\n    \n    // Try different request formats for GMI Cloud\n    const requestPayloads = [\n      {\n        model: 'moonshotai: Kimi-K2-Instruct',\n        messages: [\n          {\n            role: 'system',\n            content: 'You are an AI assistant that helps simulate conversations between influential leaders. Respond naturally and in character.'\n          },\n          {\n            role: 'user',\n            content: prompt\n          }\n        ],\n        max_tokens: 150,\n        temperature: 0.8,\n        top_p: 0.9\n      },\n      {\n        model: 'moonshotai: Kimi-K2-Instruct',\n        prompt: prompt,\n        max_tokens: 150,\n        temperature: 0.8\n      },\n      {\n        model: 'moonshotai: Kimi-K2-Instruct',\n        input: prompt,\n        max_tokens: 150,\n        temperature: 0.8\n      }\n    ];\n    \n    // Try different API instances\n    const apiInstances = [\n      { name: 'Default', instance: gmiApi },\n      { name: 'X-API-Key', instance: gmiApiAlt },\n      { name: 'Direct Auth', instance: gmiApiAlt2 }\n    ];\n    \n    for (const apiInstance of apiInstances) {\n      console.log(`Trying API instance: ${apiInstance.name}`);\n      \n      for (let i = 0; i < requestPayloads.length; i++) {\n        try {\n          console.log(`Trying request format ${i + 1} with ${apiInstance.name}:`, requestPayloads[i]);\n          console.log('Making request to:', apiInstance.instance.defaults.baseURL + '/v1/chat/completions');\n          \n          const response = await apiInstance.instance.post('/v1/chat/completions', requestPayloads[i]);\n          console.log('API response received:', response.data);\n          \n          const content = response.data.choices?.[0]?.message?.content?.trim() || \n                         response.data.text?.trim() || \n                         response.data.response?.trim() || \n                         'I understand your point.';\n          \n          console.log('Extracted content:', content);\n          return content;\n        } catch (formatError) {\n          console.error(`Request format ${i + 1} with ${apiInstance.name} failed:`, formatError);\n          console.error('Error details:', {\n            message: formatError.message,\n            status: formatError.response?.status,\n            statusText: formatError.response?.statusText,\n            data: formatError.response?.data,\n            config: {\n              url: formatError.config?.url,\n              method: formatError.config?.method,\n              headers: formatError.config?.headers\n            }\n          });\n          \n          // If this is the last format and last API instance, throw the error\n          if (i === requestPayloads.length - 1 && apiInstance === apiInstances[apiInstances.length - 1]) {\n            throw formatError;\n          }\n          continue;\n        }\n      }\n    }\n  } catch (error) {\n    console.error('Error generating conversation:', error);\n    console.error('Error details:', error.response?.data || error.message);\n    throw new Error(`Failed to generate conversation response: ${error.message}`);\n  }\n};\n\n// Generate responses to user questions\nexport const generateUserQuestionResponse = async (speaker1, speaker2, topic, userQuestion, conversationHistory = []) => {\n  try {\n    const prompt = generateUserQuestionPrompt(speaker1, speaker2, topic, userQuestion, conversationHistory);\n    \n    const response = await gmiApi.post('/v1/chat/completions', {\n      model: 'moonshotai: Kimi-K2-Instruct',\n      messages: [\n        {\n          role: 'system',\n          content: 'You are an AI assistant that helps simulate conversations between influential leaders. Provide responses from both speakers to audience questions.'\n        },\n        {\n          role: 'user',\n          content: prompt\n        }\n      ],\n      max_tokens: 300,\n      temperature: 0.8,\n      top_p: 0.9\n    });\n\n    const fullResponse = response.data.choices[0].message.content.trim();\n    \n    // Parse the response to separate the two speakers\n    const lines = fullResponse.split('\\n');\n    const speaker1Response = lines.find(line => line.includes(speaker1 + ':'))?.replace(speaker1 + ':', '').trim();\n    const speaker2Response = lines.find(line => line.includes(speaker2 + ':'))?.replace(speaker2 + ':', '').trim();\n\n    return {\n      speaker1: speaker1Response || 'I appreciate that question.',\n      speaker2: speaker2Response || 'That\\'s an interesting point.'\n    };\n  } catch (error) {\n    console.error('Error generating user question response:', error);\n    throw new Error('Failed to generate response to user question');\n  }\n};\n\n// Get available speakers\nexport const getAvailableSpeakers = () => {\n  return Object.keys(SPEAKER_PROFILES);\n};\n\n// Validate GMI API configuration\nexport const validateGMIConfig = () => {\n  if (!GMI_API_KEY) {\n    throw new Error('GMI API key is not configured. Please set REACT_APP_GMI_API_KEY environment variable.');\n  }\n  console.log('GMI API Key configured:', GMI_API_KEY ? 'Yes' : 'No');\n  console.log('GMI API URL:', GMI_API_URL);\n  return true;\n};\n\n// Test basic connectivity to GMI Cloud\nexport const testGMIConnectivity = async () => {\n  try {\n    console.log('Testing basic connectivity to GMI Cloud...');\n    \n    for (const baseUrl of GMI_BASE_URLS) {\n      try {\n        console.log(`Testing connectivity to: ${baseUrl}`);\n        const response = await axios.get(baseUrl, { timeout: 5000 });\n        console.log(`Successfully connected to ${baseUrl}:`, response.status);\n        return true;\n      } catch (error) {\n        console.log(`Failed to connect to ${baseUrl}:`, error.message);\n        continue;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('Connectivity test failed:', error);\n    return false;\n  }\n};\n\n// Test GMI API connection\nexport const testGMIConnection = async () => {\n  try {\n    console.log('Testing GMI API connection...');\n    \n    // Try different possible endpoints for GMI Cloud\n    const endpoints = [\n      '/v1/chat/completions',\n      '/chat/completions',\n      '/api/v1/chat/completions',\n      '/completions',\n      '/api/chat/completions',\n      '/v1/completions',\n      '/api/generate',\n      '/generate',\n      '/v1/generate',\n      '/chat',\n      '/api/chat'\n    ];\n    \n    // Try different base URLs and endpoints\n    for (const baseUrl of GMI_BASE_URLS) {\n      console.log(`Trying base URL: ${baseUrl}`);\n      \n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying endpoint: ${baseUrl}${endpoint}`);\n          \n          // Try different authentication methods for this base URL\n          const authMethods = [\n            {\n              name: 'Bearer Token',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${GMI_API_KEY}`\n              }\n            },\n            {\n              name: 'X-API-Key',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-API-Key': GMI_API_KEY\n              }\n            },\n            {\n              name: 'Direct Authorization',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': GMI_API_KEY\n              }\n            }\n          ];\n          \n          for (const authMethod of authMethods) {\n            try {\n              console.log(`Trying ${authMethod.name} authentication...`);\n              const tempApi = axios.create({\n                baseURL: baseUrl,\n                headers: authMethod.headers\n              });\n              \n              const response = await tempApi.post(endpoint, {\n                model: 'moonshotai: Kimi-K2-Instruct',\n                messages: [\n                  {\n                    role: 'user',\n                    content: 'Hello, this is a test message.'\n                  }\n                ],\n                max_tokens: 10\n              });\n              \n              console.log(`GMI API test successful with ${baseUrl}${endpoint} using ${authMethod.name}:`, response.data);\n              return true;\n            } catch (authError) {\n              console.log(`${authMethod.name} authentication failed:`, authError.message);\n              continue;\n            }\n          }\n        } catch (endpointError) {\n          console.log(`Endpoint ${baseUrl}${endpoint} failed:`, endpointError.message);\n          continue;\n        }\n      }\n    }\n    \n    console.error('All GMI API endpoints failed');\n    return false;\n  } catch (error) {\n    console.error('GMI API test failed:', error);\n    console.error('Error details:', error.response?.data || error.message);\n    return false;\n  }\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}