{"ast":null,"code":"import axios from 'axios';\n\n// GMI Cloud API configuration\nconst GMI_API_URL = process.env.REACT_APP_GMI_API_URL || 'https://api.gmi-serving.com';\nconst GMI_API_KEY = process.env.REACT_APP_GMI_API_KEY;\n\n// GMI Cloud base URLs\nconst GMI_BASE_URLS = ['https://api.gmi-serving.com'];\n\n// Debug environment variables\nconsole.log('Environment variables loaded:');\nconsole.log('GMI_API_URL:', GMI_API_URL);\nconsole.log('GMI_API_KEY exists:', !!GMI_API_KEY);\n\n// Speaker profiles with their characteristics and knowledge\nconst SPEAKER_PROFILES = {\n  'Steve Jobs': {\n    personality: 'Visionary, perfectionist, focused on design and user experience',\n    background: 'Co-founder of Apple, Pixar, and NeXT. Known for revolutionizing personal computing, mobile phones, and digital music.',\n    speaking_style: 'Direct, passionate, uses metaphors and stories. Emphasizes simplicity and elegance.',\n    expertise: 'Technology innovation, design philosophy, business strategy, creative leadership',\n    quotes: 'Stay hungry, stay foolish. Design is not just what it looks like and feels like. Design is how it works.',\n    knowledge_sources: 'Apple keynotes, interviews, Stanford commencement speech, biographies'\n  },\n  'Elon Musk': {\n    personality: 'Ambitious, risk-taking, focused on solving big problems',\n    background: 'CEO of Tesla and SpaceX, founder of Neuralink and The Boring Company. Known for electric vehicles, space exploration, and AI.',\n    speaking_style: 'Technical, direct, uses data and engineering principles. Often discusses future possibilities.',\n    expertise: 'Electric vehicles, space exploration, artificial intelligence, renewable energy, neural interfaces',\n    quotes: 'When something is important enough, you do it even if the odds are not in your favor. The future of humanity is going to be on multiple planets.',\n    knowledge_sources: 'Tesla presentations, SpaceX launches, interviews, Twitter posts, TED talks'\n  },\n  'Bill Gates': {\n    personality: 'Analytical, philanthropic, focused on global problems',\n    background: 'Co-founder of Microsoft, philanthropist through Bill & Melinda Gates Foundation. Known for personal computing and global health.',\n    speaking_style: 'Thoughtful, data-driven, uses statistics and research. Emphasizes global impact and innovation.',\n    expertise: 'Software development, global health, education, climate change, philanthropy',\n    quotes: 'Success is a lousy teacher. It seduces smart people into thinking they can\\'t lose. We always overestimate the change that will occur in the next two years and underestimate the change that will occur in the next ten.',\n    knowledge_sources: 'Microsoft presentations, Gates Notes, interviews, TED talks, annual letters'\n  },\n  'Warren Buffett': {\n    personality: 'Wise, patient, value-oriented, down-to-earth',\n    background: 'CEO of Berkshire Hathaway, known as the \"Oracle of Omaha\". One of the most successful investors ever.',\n    speaking_style: 'Simple, clear, uses analogies and stories. Emphasizes long-term thinking and value.',\n    expertise: 'Value investing, business analysis, economics, philanthropy, life philosophy',\n    quotes: 'Be fearful when others are greedy and greedy when others are fearful. Price is what you pay. Value is what you get.',\n    knowledge_sources: 'Berkshire annual meetings, interviews, shareholder letters, documentaries'\n  },\n  'Oprah Winfrey': {\n    personality: 'Empathetic, inspiring, focused on personal growth and human connection',\n    background: 'Media mogul, talk show host, philanthropist. Known for The Oprah Winfrey Show and OWN network.',\n    speaking_style: 'Warm, personal, uses stories and emotional connection. Emphasizes authenticity and purpose.',\n    expertise: 'Media, personal development, philanthropy, leadership, human psychology',\n    quotes: 'The biggest adventure you can take is to live the life of your dreams. What I know for sure is that speaking your truth is the most powerful tool we all have.',\n    knowledge_sources: 'The Oprah Winfrey Show, interviews, speeches, books, Super Soul Sunday'\n  },\n  'Albert Einstein': {\n    personality: 'Curious, revolutionary, focused on fundamental understanding',\n    background: 'Theoretical physicist, developed the theory of relativity. One of the most influential scientists ever.',\n    speaking_style: 'Philosophical, uses thought experiments and analogies. Emphasizes imagination and questioning.',\n    expertise: 'Physics, mathematics, philosophy of science, education, peace advocacy',\n    quotes: 'Imagination is more important than knowledge. The important thing is not to stop questioning. Curiosity has its own reason for existence.',\n    knowledge_sources: 'Scientific papers, interviews, letters, biographies, philosophical writings'\n  }\n};\n\n// Initialize axios instance for GMI Cloud\nconst gmiApi = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${GMI_API_KEY}`\n  },\n  timeout: 30000 // 30 second timeout\n});\n\n// Alternative authentication headers for GMI Cloud\nconst gmiApiAlt = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': GMI_API_KEY\n  },\n  timeout: 30000\n});\nconst gmiApiAlt2 = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\n// Log the API configuration\nconsole.log('GMI API Configuration:', {\n  baseURL: GMI_API_URL,\n  hasApiKey: !!GMI_API_KEY,\n  apiKeyPrefix: GMI_API_KEY ? GMI_API_KEY.substring(0, 20) + '...' : 'None'\n});\n\n// Log environment variables directly\nconsole.log('Environment variables check:');\nconsole.log('process.env.REACT_APP_GMI_API_URL:', process.env.REACT_APP_GMI_API_URL);\nconsole.log('process.env.REACT_APP_GMI_API_KEY exists:', !!process.env.REACT_APP_GMI_API_KEY);\n\n// Generate speaker-specific prompt\nconst generateSpeakerPrompt = (speaker, topic, conversationHistory = []) => {\n  const profile = SPEAKER_PROFILES[speaker];\n  if (!profile) {\n    throw new Error(`Speaker profile not found for: ${speaker}`);\n  }\n  const historyContext = conversationHistory.length > 0 ? `\\n\\nPrevious conversation context:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}` : '';\n  return `You are ${speaker}, having a natural conversation about \"${topic}\".\n\n${speaker}'s characteristics:\n- Personality: ${profile.personality}\n- Background: ${profile.background}\n- Speaking style: ${profile.speaking_style}\n- Expertise: ${profile.expertise}\n- Famous quotes: ${profile.quotes}\n\nInstructions:\n1. Respond as ${speaker} would naturally speak about this topic\n2. Keep responses to ONE SENTENCE only - be concise and direct\n3. Reference your background, expertise, and speaking style\n4. Respond to what the other speaker just said, creating a natural flow\n5. Stay focused on the topic: ${topic}\n6. Use your characteristic speaking style and personality\n7. Don't break character or mention that you're an AI\n\n${historyContext}\n\nRespond as ${speaker} would naturally continue this conversation:`;\n};\n\n// Generate user question prompt\nconst generateUserQuestionPrompt = (speaker1, speaker2, topic, userQuestion, userName, conversationHistory = []) => {\n  const profile1 = SPEAKER_PROFILES[speaker1];\n  const profile2 = SPEAKER_PROFILES[speaker2];\n  const historyContext = conversationHistory.length > 0 ? `\\n\\nPrevious conversation:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}` : '';\n  return `You are ${speaker1} and ${speaker2} having a discussion about \"${topic}\".\n\n${speaker1}'s characteristics:\n- Personality: ${profile1.personality}\n- Background: ${profile1.background}\n- Speaking style: ${profile1.speaking_style}\n\n${speaker2}'s characteristics:\n- Personality: ${profile2.personality}\n- Background: ${profile2.background}\n- Speaking style: ${profile2.speaking_style}\n\n${userName} from the audience has asked: \"${userQuestion}\"\n\nInstructions:\n1. Both speakers should acknowledge ${userName} by name and respond to their question\n2. Keep responses to ONE SENTENCE each - be concise and direct\n3. Respond in character as each speaker would naturally\n4. Reference their background and expertise\n5. If the question is relevant to the topic, incorporate it naturally into the discussion\n6. If the question seems off-topic, politely acknowledge it but redirect to the main topic\n7. Use their characteristic speaking styles\n8. Start responses with phrases like \"Great question from ${userName}\" or \"Thank you ${userName} for that question\"\n\n${historyContext}\n\nProvide responses from both ${speaker1} and ${speaker2} to ${userName}'s question:`;\n};\n\n// Call GMI Cloud API for conversation generation\nexport const generateConversation = async (speaker1, speaker2, topic, conversationHistory = []) => {\n  try {\n    console.log('Generating conversation for:', speaker1, 'about topic:', topic);\n    const prompt = generateSpeakerPrompt(speaker1, topic, conversationHistory);\n    console.log('Making API request to GMI Cloud...');\n    console.log('Using URL:', gmiApi.defaults.baseURL);\n\n    // GMI Cloud request format\n    const requestPayload = {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [{\n        role: 'system',\n        content: 'You are an AI assistant that helps simulate conversations between influential leaders. Respond naturally and in character. Keep responses to ONE SENTENCE only - be concise and direct.'\n      }, {\n        role: 'user',\n        content: prompt\n      }],\n      max_tokens: 50,\n      // Reduced to one sentence for natural conversation flow\n      temperature: 0.8\n    };\n    try {\n      var _response$data$choice, _response$data$choice2, _response$data$choice3, _response$data$choice4, _response$data$text, _response$data$respon;\n      console.log('Making request to GMI Cloud:', gmiApi.defaults.baseURL + '/v1/chat/completions');\n      console.log('Request payload:', requestPayload);\n      const response = await gmiApi.post('/v1/chat/completions', requestPayload);\n      console.log('API response received:', response.data);\n      let content = ((_response$data$choice = response.data.choices) === null || _response$data$choice === void 0 ? void 0 : (_response$data$choice2 = _response$data$choice[0]) === null || _response$data$choice2 === void 0 ? void 0 : (_response$data$choice3 = _response$data$choice2.message) === null || _response$data$choice3 === void 0 ? void 0 : (_response$data$choice4 = _response$data$choice3.content) === null || _response$data$choice4 === void 0 ? void 0 : _response$data$choice4.trim()) || ((_response$data$text = response.data.text) === null || _response$data$text === void 0 ? void 0 : _response$data$text.trim()) || ((_response$data$respon = response.data.response) === null || _response$data$respon === void 0 ? void 0 : _response$data$respon.trim()) || 'I understand your point.';\n\n      // Clean markdown formatting from the response\n      content = content.replace(/\\*\\*\\*\\*/g, '').replace(/\\*\\*/g, '').replace(/\\*/g, '').trim();\n      console.log('Extracted content:', content);\n      return content;\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3, _error$config, _error$config2, _error$config3;\n      console.error('GMI Cloud API request failed:', error);\n      console.error('Error details:', {\n        message: error.message,\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        statusText: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.statusText,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data,\n        config: {\n          url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n          method: (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method,\n          headers: (_error$config3 = error.config) === null || _error$config3 === void 0 ? void 0 : _error$config3.headers\n        }\n      });\n      throw error;\n    }\n  } catch (error) {\n    var _error$response4;\n    console.error('Error generating conversation:', error);\n    console.error('Error details:', ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error.message);\n    throw new Error(`Failed to generate conversation response: ${error.message}`);\n  }\n};\n\n// Generate responses to user questions\nexport const generateUserQuestionResponse = async (speaker1, speaker2, topic, userQuestion, userName, conversationHistory = []) => {\n  try {\n    var _lines$find, _lines$find2;\n    const prompt = generateUserQuestionPrompt(speaker1, speaker2, topic, userQuestion, userName, conversationHistory);\n    const response = await gmiApi.post('/v1/chat/completions', {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [{\n        role: 'system',\n        content: 'You are an AI assistant that helps simulate conversations between influential leaders. Provide responses from both speakers to audience questions. Keep each response to ONE SENTENCE only - be concise and direct.'\n      }, {\n        role: 'user',\n        content: prompt\n      }],\n      max_tokens: 80,\n      // Reduced for user questions to prevent overlapping\n      temperature: 0.8\n    });\n    const fullResponse = response.data.choices[0].message.content.trim();\n\n    // Parse the response to separate the two speakers\n    const lines = fullResponse.split('\\n');\n    const speaker1Response = (_lines$find = lines.find(line => line.includes(speaker1 + ':'))) === null || _lines$find === void 0 ? void 0 : _lines$find.replace(speaker1 + ':', '').trim();\n    const speaker2Response = (_lines$find2 = lines.find(line => line.includes(speaker2 + ':'))) === null || _lines$find2 === void 0 ? void 0 : _lines$find2.replace(speaker2 + ':', '').trim();\n    return {\n      speaker1: speaker1Response || 'I appreciate that question.',\n      speaker2: speaker2Response || 'That\\'s an interesting point.'\n    };\n  } catch (error) {\n    console.error('Error generating user question response:', error);\n    throw new Error('Failed to generate response to user question');\n  }\n};\n\n// Get available speakers\nexport const getAvailableSpeakers = () => {\n  return Object.keys(SPEAKER_PROFILES);\n};\n\n// Validate GMI API configuration\nexport const validateGMIConfig = () => {\n  if (!GMI_API_KEY) {\n    throw new Error('GMI API key is not configured. Please set REACT_APP_GMI_API_KEY environment variable.');\n  }\n  console.log('GMI API Key configured:', GMI_API_KEY ? 'Yes' : 'No');\n  console.log('GMI API URL:', GMI_API_URL);\n  return true;\n};\n\n// Test basic internet connectivity\nexport const testBasicConnectivity = async () => {\n  try {\n    console.log('Testing basic internet connectivity...');\n    const response = await axios.get('https://httpbin.org/get', {\n      timeout: 5000\n    });\n    console.log('Basic internet connectivity: OK');\n    return true;\n  } catch (error) {\n    console.error('Basic internet connectivity failed:', error.message);\n    return false;\n  }\n};\n\n// Test basic connectivity to AI services\nexport const testGMIConnectivity = async () => {\n  try {\n    console.log('Testing basic connectivity to AI services...');\n\n    // Try a simple API call to test connectivity\n    const testPayload = {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [{\n        role: 'user',\n        content: 'Hello'\n      }],\n      max_tokens: 5\n    };\n    for (const baseUrl of GMI_BASE_URLS) {\n      try {\n        console.log(`Testing connectivity to: ${baseUrl}`);\n\n        // Create a test API instance\n        const testApi = axios.create({\n          baseURL: baseUrl,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${GMI_API_KEY}`\n          },\n          timeout: 10000\n        });\n\n        // Try a simple API call\n        const response = await testApi.post('/v1/chat/completions', testPayload);\n        console.log(`Successfully connected to ${baseUrl}:`, response.status);\n        return true;\n      } catch (error) {\n        console.log(`Failed to connect to ${baseUrl}:`, error.message);\n        if (error.response) {\n          console.log(`Response status: ${error.response.status}`);\n          // If we get a 401/403, it means the server is reachable but auth failed\n          if (error.response.status === 401 || error.response.status === 403) {\n            console.log(`Server is reachable but authentication failed`);\n            return true; // Server is reachable\n          }\n        }\n        continue;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('Connectivity test failed:', error);\n    return false;\n  }\n};\n\n// Test GMI API connection\nexport const testGMIConnection = async () => {\n  try {\n    console.log('Testing GMI API connection...');\n\n    // Try different possible endpoints for GMI Cloud\n    const endpoints = ['/v1/chat/completions', '/chat/completions', '/api/v1/chat/completions', '/completions', '/api/chat/completions', '/v1/completions', '/api/generate', '/generate', '/v1/generate', '/chat', '/api/chat'];\n\n    // Try different base URLs and endpoints\n    for (const baseUrl of GMI_BASE_URLS) {\n      console.log(`Trying base URL: ${baseUrl}`);\n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying endpoint: ${baseUrl}${endpoint}`);\n\n          // Try different authentication methods for this base URL\n          const authMethods = [{\n            name: 'Bearer Token',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${GMI_API_KEY}`\n            }\n          }, {\n            name: 'X-API-Key',\n            headers: {\n              'Content-Type': 'application/json',\n              'X-API-Key': GMI_API_KEY\n            }\n          }, {\n            name: 'Direct Authorization',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': GMI_API_KEY\n            }\n          }];\n          for (const authMethod of authMethods) {\n            try {\n              console.log(`Trying ${authMethod.name} authentication...`);\n              const tempApi = axios.create({\n                baseURL: baseUrl,\n                headers: authMethod.headers\n              });\n              try {\n                console.log(`Trying GMI Cloud API with ${authMethod.name} authentication`);\n                const response = await tempApi.post(endpoint, {\n                  model: 'moonshotai/Kimi-K2-Instruct',\n                  messages: [{\n                    role: 'user',\n                    content: 'Hello, this is a test message.'\n                  }],\n                  max_tokens: 10\n                });\n                console.log(`GMI API test successful with ${baseUrl}${endpoint} using ${authMethod.name}:`, response.data);\n                return true;\n              } catch (apiError) {\n                console.log(`API test failed with ${authMethod.name}:`, apiError.message);\n                continue;\n              }\n            } catch (authError) {\n              console.log(`${authMethod.name} authentication failed:`, authError.message);\n              continue;\n            }\n          }\n        } catch (endpointError) {\n          console.log(`Endpoint ${baseUrl}${endpoint} failed:`, endpointError.message);\n          continue;\n        }\n      }\n    }\n    console.error('All GMI API endpoints failed');\n    return false;\n  } catch (error) {\n    var _error$response5;\n    console.error('GMI API test failed:', error);\n    console.error('Error details:', ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || error.message);\n    return false;\n  }\n};","map":{"version":3,"names":["axios","GMI_API_URL","process","env","REACT_APP_GMI_API_URL","GMI_API_KEY","REACT_APP_GMI_API_KEY","GMI_BASE_URLS","console","log","SPEAKER_PROFILES","personality","background","speaking_style","expertise","quotes","knowledge_sources","gmiApi","create","baseURL","headers","timeout","gmiApiAlt","gmiApiAlt2","hasApiKey","apiKeyPrefix","substring","generateSpeakerPrompt","speaker","topic","conversationHistory","profile","Error","historyContext","length","map","msg","content","join","generateUserQuestionPrompt","speaker1","speaker2","userQuestion","userName","profile1","profile2","generateConversation","prompt","defaults","requestPayload","model","messages","role","max_tokens","temperature","_response$data$choice","_response$data$choice2","_response$data$choice3","_response$data$choice4","_response$data$text","_response$data$respon","response","post","data","choices","message","trim","text","replace","error","_error$response","_error$response2","_error$response3","_error$config","_error$config2","_error$config3","status","statusText","config","url","method","_error$response4","generateUserQuestionResponse","_lines$find","_lines$find2","fullResponse","lines","split","speaker1Response","find","line","includes","speaker2Response","getAvailableSpeakers","Object","keys","validateGMIConfig","testBasicConnectivity","get","testGMIConnectivity","testPayload","baseUrl","testApi","testGMIConnection","endpoints","endpoint","authMethods","name","authMethod","tempApi","apiError","authError","endpointError","_error$response5"],"sources":["/Users/aleksander/Documents/Development/GMIxc/src/services/gmiService.js"],"sourcesContent":["import axios from 'axios';\n\n// GMI Cloud API configuration\nconst GMI_API_URL = process.env.REACT_APP_GMI_API_URL || 'https://api.gmi-serving.com';\nconst GMI_API_KEY = process.env.REACT_APP_GMI_API_KEY;\n\n// GMI Cloud base URLs\nconst GMI_BASE_URLS = [\n  'https://api.gmi-serving.com'\n];\n\n// Debug environment variables\nconsole.log('Environment variables loaded:');\nconsole.log('GMI_API_URL:', GMI_API_URL);\nconsole.log('GMI_API_KEY exists:', !!GMI_API_KEY);\n\n// Speaker profiles with their characteristics and knowledge\nconst SPEAKER_PROFILES = {\n  'Steve Jobs': {\n    personality: 'Visionary, perfectionist, focused on design and user experience',\n    background: 'Co-founder of Apple, Pixar, and NeXT. Known for revolutionizing personal computing, mobile phones, and digital music.',\n    speaking_style: 'Direct, passionate, uses metaphors and stories. Emphasizes simplicity and elegance.',\n    expertise: 'Technology innovation, design philosophy, business strategy, creative leadership',\n    quotes: 'Stay hungry, stay foolish. Design is not just what it looks like and feels like. Design is how it works.',\n    knowledge_sources: 'Apple keynotes, interviews, Stanford commencement speech, biographies'\n  },\n  'Elon Musk': {\n    personality: 'Ambitious, risk-taking, focused on solving big problems',\n    background: 'CEO of Tesla and SpaceX, founder of Neuralink and The Boring Company. Known for electric vehicles, space exploration, and AI.',\n    speaking_style: 'Technical, direct, uses data and engineering principles. Often discusses future possibilities.',\n    expertise: 'Electric vehicles, space exploration, artificial intelligence, renewable energy, neural interfaces',\n    quotes: 'When something is important enough, you do it even if the odds are not in your favor. The future of humanity is going to be on multiple planets.',\n    knowledge_sources: 'Tesla presentations, SpaceX launches, interviews, Twitter posts, TED talks'\n  },\n  'Bill Gates': {\n    personality: 'Analytical, philanthropic, focused on global problems',\n    background: 'Co-founder of Microsoft, philanthropist through Bill & Melinda Gates Foundation. Known for personal computing and global health.',\n    speaking_style: 'Thoughtful, data-driven, uses statistics and research. Emphasizes global impact and innovation.',\n    expertise: 'Software development, global health, education, climate change, philanthropy',\n    quotes: 'Success is a lousy teacher. It seduces smart people into thinking they can\\'t lose. We always overestimate the change that will occur in the next two years and underestimate the change that will occur in the next ten.',\n    knowledge_sources: 'Microsoft presentations, Gates Notes, interviews, TED talks, annual letters'\n  },\n  'Warren Buffett': {\n    personality: 'Wise, patient, value-oriented, down-to-earth',\n    background: 'CEO of Berkshire Hathaway, known as the \"Oracle of Omaha\". One of the most successful investors ever.',\n    speaking_style: 'Simple, clear, uses analogies and stories. Emphasizes long-term thinking and value.',\n    expertise: 'Value investing, business analysis, economics, philanthropy, life philosophy',\n    quotes: 'Be fearful when others are greedy and greedy when others are fearful. Price is what you pay. Value is what you get.',\n    knowledge_sources: 'Berkshire annual meetings, interviews, shareholder letters, documentaries'\n  },\n  'Oprah Winfrey': {\n    personality: 'Empathetic, inspiring, focused on personal growth and human connection',\n    background: 'Media mogul, talk show host, philanthropist. Known for The Oprah Winfrey Show and OWN network.',\n    speaking_style: 'Warm, personal, uses stories and emotional connection. Emphasizes authenticity and purpose.',\n    expertise: 'Media, personal development, philanthropy, leadership, human psychology',\n    quotes: 'The biggest adventure you can take is to live the life of your dreams. What I know for sure is that speaking your truth is the most powerful tool we all have.',\n    knowledge_sources: 'The Oprah Winfrey Show, interviews, speeches, books, Super Soul Sunday'\n  },\n  'Albert Einstein': {\n    personality: 'Curious, revolutionary, focused on fundamental understanding',\n    background: 'Theoretical physicist, developed the theory of relativity. One of the most influential scientists ever.',\n    speaking_style: 'Philosophical, uses thought experiments and analogies. Emphasizes imagination and questioning.',\n    expertise: 'Physics, mathematics, philosophy of science, education, peace advocacy',\n    quotes: 'Imagination is more important than knowledge. The important thing is not to stop questioning. Curiosity has its own reason for existence.',\n    knowledge_sources: 'Scientific papers, interviews, letters, biographies, philosophical writings'\n  }\n};\n\n// Initialize axios instance for GMI Cloud\nconst gmiApi = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${GMI_API_KEY}`\n  },\n  timeout: 30000 // 30 second timeout\n});\n\n// Alternative authentication headers for GMI Cloud\nconst gmiApiAlt = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-API-Key': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\nconst gmiApiAlt2 = axios.create({\n  baseURL: GMI_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': GMI_API_KEY\n  },\n  timeout: 30000\n});\n\n// Log the API configuration\nconsole.log('GMI API Configuration:', {\n  baseURL: GMI_API_URL,\n  hasApiKey: !!GMI_API_KEY,\n  apiKeyPrefix: GMI_API_KEY ? GMI_API_KEY.substring(0, 20) + '...' : 'None'\n});\n\n// Log environment variables directly\nconsole.log('Environment variables check:');\nconsole.log('process.env.REACT_APP_GMI_API_URL:', process.env.REACT_APP_GMI_API_URL);\nconsole.log('process.env.REACT_APP_GMI_API_KEY exists:', !!process.env.REACT_APP_GMI_API_KEY);\n\n// Generate speaker-specific prompt\nconst generateSpeakerPrompt = (speaker, topic, conversationHistory = []) => {\n  const profile = SPEAKER_PROFILES[speaker];\n  if (!profile) {\n    throw new Error(`Speaker profile not found for: ${speaker}`);\n  }\n\n  const historyContext = conversationHistory.length > 0 \n    ? `\\n\\nPrevious conversation context:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}`\n    : '';\n\n  return `You are ${speaker}, having a natural conversation about \"${topic}\".\n\n${speaker}'s characteristics:\n- Personality: ${profile.personality}\n- Background: ${profile.background}\n- Speaking style: ${profile.speaking_style}\n- Expertise: ${profile.expertise}\n- Famous quotes: ${profile.quotes}\n\nInstructions:\n1. Respond as ${speaker} would naturally speak about this topic\n2. Keep responses to ONE SENTENCE only - be concise and direct\n3. Reference your background, expertise, and speaking style\n4. Respond to what the other speaker just said, creating a natural flow\n5. Stay focused on the topic: ${topic}\n6. Use your characteristic speaking style and personality\n7. Don't break character or mention that you're an AI\n\n${historyContext}\n\nRespond as ${speaker} would naturally continue this conversation:`;\n};\n\n// Generate user question prompt\nconst generateUserQuestionPrompt = (speaker1, speaker2, topic, userQuestion, userName, conversationHistory = []) => {\n  const profile1 = SPEAKER_PROFILES[speaker1];\n  const profile2 = SPEAKER_PROFILES[speaker2];\n\n  const historyContext = conversationHistory.length > 0 \n    ? `\\n\\nPrevious conversation:\\n${conversationHistory.map(msg => `${msg.speaker}: ${msg.content}`).join('\\n')}`\n    : '';\n\n  return `You are ${speaker1} and ${speaker2} having a discussion about \"${topic}\".\n\n${speaker1}'s characteristics:\n- Personality: ${profile1.personality}\n- Background: ${profile1.background}\n- Speaking style: ${profile1.speaking_style}\n\n${speaker2}'s characteristics:\n- Personality: ${profile2.personality}\n- Background: ${profile2.background}\n- Speaking style: ${profile2.speaking_style}\n\n${userName} from the audience has asked: \"${userQuestion}\"\n\nInstructions:\n1. Both speakers should acknowledge ${userName} by name and respond to their question\n2. Keep responses to ONE SENTENCE each - be concise and direct\n3. Respond in character as each speaker would naturally\n4. Reference their background and expertise\n5. If the question is relevant to the topic, incorporate it naturally into the discussion\n6. If the question seems off-topic, politely acknowledge it but redirect to the main topic\n7. Use their characteristic speaking styles\n8. Start responses with phrases like \"Great question from ${userName}\" or \"Thank you ${userName} for that question\"\n\n${historyContext}\n\nProvide responses from both ${speaker1} and ${speaker2} to ${userName}'s question:`;\n};\n\n// Call GMI Cloud API for conversation generation\nexport const generateConversation = async (speaker1, speaker2, topic, conversationHistory = []) => {\n  try {\n    console.log('Generating conversation for:', speaker1, 'about topic:', topic);\n    const prompt = generateSpeakerPrompt(speaker1, topic, conversationHistory);\n    \n    console.log('Making API request to GMI Cloud...');\n    console.log('Using URL:', gmiApi.defaults.baseURL);\n    \n    // GMI Cloud request format\n    const requestPayload = {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [\n        {\n          role: 'system',\n          content: 'You are an AI assistant that helps simulate conversations between influential leaders. Respond naturally and in character. Keep responses to ONE SENTENCE only - be concise and direct.'\n        },\n        {\n          role: 'user',\n          content: prompt\n        }\n      ],\n      max_tokens: 50, // Reduced to one sentence for natural conversation flow\n      temperature: 0.8\n    };\n    \n    try {\n      console.log('Making request to GMI Cloud:', gmiApi.defaults.baseURL + '/v1/chat/completions');\n      console.log('Request payload:', requestPayload);\n      \n      const response = await gmiApi.post('/v1/chat/completions', requestPayload);\n      console.log('API response received:', response.data);\n      \n      let content = response.data.choices?.[0]?.message?.content?.trim() || \n                   response.data.text?.trim() || \n                   response.data.response?.trim() || \n                   'I understand your point.';\n      \n      // Clean markdown formatting from the response\n      content = content.replace(/\\*\\*\\*\\*/g, '').replace(/\\*\\*/g, '').replace(/\\*/g, '').trim();\n      \n      console.log('Extracted content:', content);\n      return content;\n    } catch (error) {\n      console.error('GMI Cloud API request failed:', error);\n      console.error('Error details:', {\n        message: error.message,\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        config: {\n          url: error.config?.url,\n          method: error.config?.method,\n          headers: error.config?.headers\n        }\n      });\n      throw error;\n    }\n  } catch (error) {\n    console.error('Error generating conversation:', error);\n    console.error('Error details:', error.response?.data || error.message);\n    throw new Error(`Failed to generate conversation response: ${error.message}`);\n  }\n};\n\n// Generate responses to user questions\nexport const generateUserQuestionResponse = async (speaker1, speaker2, topic, userQuestion, userName, conversationHistory = []) => {\n  try {\n    const prompt = generateUserQuestionPrompt(speaker1, speaker2, topic, userQuestion, userName, conversationHistory);\n    \n    const response = await gmiApi.post('/v1/chat/completions', {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [\n        {\n          role: 'system',\n          content: 'You are an AI assistant that helps simulate conversations between influential leaders. Provide responses from both speakers to audience questions. Keep each response to ONE SENTENCE only - be concise and direct.'\n        },\n        {\n          role: 'user',\n          content: prompt\n        }\n      ],\n      max_tokens: 80, // Reduced for user questions to prevent overlapping\n      temperature: 0.8\n    });\n\n    const fullResponse = response.data.choices[0].message.content.trim();\n    \n    // Parse the response to separate the two speakers\n    const lines = fullResponse.split('\\n');\n    const speaker1Response = lines.find(line => line.includes(speaker1 + ':'))?.replace(speaker1 + ':', '').trim();\n    const speaker2Response = lines.find(line => line.includes(speaker2 + ':'))?.replace(speaker2 + ':', '').trim();\n\n    return {\n      speaker1: speaker1Response || 'I appreciate that question.',\n      speaker2: speaker2Response || 'That\\'s an interesting point.'\n    };\n  } catch (error) {\n    console.error('Error generating user question response:', error);\n    throw new Error('Failed to generate response to user question');\n  }\n};\n\n// Get available speakers\nexport const getAvailableSpeakers = () => {\n  return Object.keys(SPEAKER_PROFILES);\n};\n\n// Validate GMI API configuration\nexport const validateGMIConfig = () => {\n  if (!GMI_API_KEY) {\n    throw new Error('GMI API key is not configured. Please set REACT_APP_GMI_API_KEY environment variable.');\n  }\n  console.log('GMI API Key configured:', GMI_API_KEY ? 'Yes' : 'No');\n  console.log('GMI API URL:', GMI_API_URL);\n  return true;\n};\n\n// Test basic internet connectivity\nexport const testBasicConnectivity = async () => {\n  try {\n    console.log('Testing basic internet connectivity...');\n    const response = await axios.get('https://httpbin.org/get', { timeout: 5000 });\n    console.log('Basic internet connectivity: OK');\n    return true;\n  } catch (error) {\n    console.error('Basic internet connectivity failed:', error.message);\n    return false;\n  }\n};\n\n// Test basic connectivity to AI services\nexport const testGMIConnectivity = async () => {\n  try {\n    console.log('Testing basic connectivity to AI services...');\n    \n    // Try a simple API call to test connectivity\n    const testPayload = {\n      model: 'moonshotai/Kimi-K2-Instruct',\n      messages: [\n        {\n          role: 'user',\n          content: 'Hello'\n        }\n      ],\n      max_tokens: 5\n    };\n    \n    for (const baseUrl of GMI_BASE_URLS) {\n      try {\n        console.log(`Testing connectivity to: ${baseUrl}`);\n        \n        // Create a test API instance\n        const testApi = axios.create({\n          baseURL: baseUrl,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${GMI_API_KEY}`\n          },\n          timeout: 10000\n        });\n        \n        // Try a simple API call\n        const response = await testApi.post('/v1/chat/completions', testPayload);\n        console.log(`Successfully connected to ${baseUrl}:`, response.status);\n        return true;\n      } catch (error) {\n        console.log(`Failed to connect to ${baseUrl}:`, error.message);\n        if (error.response) {\n          console.log(`Response status: ${error.response.status}`);\n          // If we get a 401/403, it means the server is reachable but auth failed\n          if (error.response.status === 401 || error.response.status === 403) {\n            console.log(`Server is reachable but authentication failed`);\n            return true; // Server is reachable\n          }\n        }\n        continue;\n      }\n    }\n    return false;\n  } catch (error) {\n    console.error('Connectivity test failed:', error);\n    return false;\n  }\n};\n\n// Test GMI API connection\nexport const testGMIConnection = async () => {\n  try {\n    console.log('Testing GMI API connection...');\n    \n    // Try different possible endpoints for GMI Cloud\n    const endpoints = [\n      '/v1/chat/completions',\n      '/chat/completions',\n      '/api/v1/chat/completions',\n      '/completions',\n      '/api/chat/completions',\n      '/v1/completions',\n      '/api/generate',\n      '/generate',\n      '/v1/generate',\n      '/chat',\n      '/api/chat'\n    ];\n    \n    // Try different base URLs and endpoints\n    for (const baseUrl of GMI_BASE_URLS) {\n      console.log(`Trying base URL: ${baseUrl}`);\n      \n      for (const endpoint of endpoints) {\n        try {\n          console.log(`Trying endpoint: ${baseUrl}${endpoint}`);\n          \n          // Try different authentication methods for this base URL\n          const authMethods = [\n            {\n              name: 'Bearer Token',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${GMI_API_KEY}`\n              }\n            },\n            {\n              name: 'X-API-Key',\n              headers: {\n                'Content-Type': 'application/json',\n                'X-API-Key': GMI_API_KEY\n              }\n            },\n            {\n              name: 'Direct Authorization',\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': GMI_API_KEY\n              }\n            }\n          ];\n          \n          for (const authMethod of authMethods) {\n            try {\n              console.log(`Trying ${authMethod.name} authentication...`);\n              const tempApi = axios.create({\n                baseURL: baseUrl,\n                headers: authMethod.headers\n              });\n              \n              try {\n                console.log(`Trying GMI Cloud API with ${authMethod.name} authentication`);\n                const response = await tempApi.post(endpoint, {\n                  model: 'moonshotai/Kimi-K2-Instruct',\n                  messages: [\n                    {\n                      role: 'user',\n                      content: 'Hello, this is a test message.'\n                    }\n                  ],\n                  max_tokens: 10\n                });\n                \n                console.log(`GMI API test successful with ${baseUrl}${endpoint} using ${authMethod.name}:`, response.data);\n                return true;\n              } catch (apiError) {\n                console.log(`API test failed with ${authMethod.name}:`, apiError.message);\n                continue;\n              }\n            } catch (authError) {\n              console.log(`${authMethod.name} authentication failed:`, authError.message);\n              continue;\n            }\n          }\n        } catch (endpointError) {\n          console.log(`Endpoint ${baseUrl}${endpoint} failed:`, endpointError.message);\n          continue;\n        }\n      }\n    }\n    \n    console.error('All GMI API endpoints failed');\n    return false;\n  } catch (error) {\n    console.error('GMI API test failed:', error);\n    console.error('Error details:', error.response?.data || error.message);\n    return false;\n  }\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}